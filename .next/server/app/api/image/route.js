"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/image/route";
exports.ids = ["app/api/image/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fimage%2Froute&page=%2Fapi%2Fimage%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fimage%2Froute.ts&appDir=%2Fhome%2Fjr%2FProjetos%2FMestrAi%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fjr%2FProjetos%2FMestrAi&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fimage%2Froute&page=%2Fapi%2Fimage%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fimage%2Froute.ts&appDir=%2Fhome%2Fjr%2FProjetos%2FMestrAi%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fjr%2FProjetos%2FMestrAi&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _home_jr_Projetos_MestrAi_app_api_image_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/image/route.ts */ \"(rsc)/./app/api/image/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/image/route\",\n        pathname: \"/api/image\",\n        filename: \"route\",\n        bundlePath: \"app/api/image/route\"\n    },\n    resolvedPagePath: \"/home/jr/Projetos/MestrAi/app/api/image/route.ts\",\n    nextConfigOutput,\n    userland: _home_jr_Projetos_MestrAi_app_api_image_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/image/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZpbWFnZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGaW1hZ2UlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZpbWFnZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGanIlMkZQcm9qZXRvcyUyRk1lc3RyQWklMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRmhvbWUlMkZqciUyRlByb2pldG9zJTJGTWVzdHJBaSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDQTtBQUM3RTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RyYWktLS12aXJ0dWFsLXRhYmxldG9wLz8xZDNkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9ob21lL2pyL1Byb2pldG9zL01lc3RyQWkvYXBwL2FwaS9pbWFnZS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvaW1hZ2Uvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9pbWFnZVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvaW1hZ2Uvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvaG9tZS9qci9Qcm9qZXRvcy9NZXN0ckFpL2FwcC9hcGkvaW1hZ2Uvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2ltYWdlL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fimage%2Froute&page=%2Fapi%2Fimage%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fimage%2Froute.ts&appDir=%2Fhome%2Fjr%2FProjetos%2FMestrAi%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fjr%2FProjetos%2FMestrAi&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/image/route.ts":
/*!********************************!*\
  !*** ./app/api/image/route.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_ai_rateLimit__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/ai/rateLimit */ \"(rsc)/./lib/ai/rateLimit.ts\");\n\n\nconst POLLINATIONS_KEY = process.env.POLLINATIONS_KEY || \"\";\nfunction getModelChain(userCount) {\n    if (userCount < 5) return [\n        \"klein-large\"\n    ];\n    if (userCount <= 10) return [\n        \"klein\",\n        \"klein-large\"\n    ];\n    if (userCount <= 500) return [\n        \"turbo\",\n        \"klein\",\n        \"klein-large\"\n    ];\n    if (userCount <= 1000) return [\n        \"flux\",\n        \"zimage\",\n        \"turbo\",\n        \"klein\",\n        \"klein-large\"\n    ];\n    return [\n        \"flux\",\n        \"zimage\",\n        \"turbo\",\n        \"klein\",\n        \"klein-large\"\n    ];\n}\nfunction buildUrl(prompt, model, width, height, seed) {\n    const base = `https://gen.pollinations.ai/image/${encodeURIComponent(prompt)}`;\n    const params = new URLSearchParams();\n    params.set(\"model\", model);\n    if (POLLINATIONS_KEY) params.set(\"key\", POLLINATIONS_KEY);\n    if (width) params.set(\"width\", String(width));\n    if (height) params.set(\"height\", String(height));\n    if (seed !== undefined) params.set(\"seed\", String(seed));\n    return `${base}?${params.toString()}`;\n}\nasync function GET(req) {\n    const { searchParams } = new URL(req.url);\n    const ip = (req.headers.get(\"x-forwarded-for\") || \"unknown\").split(\",\")[0].trim();\n    const rateKey = `image:${ip}`;\n    if (await (0,_lib_ai_rateLimit__WEBPACK_IMPORTED_MODULE_1__.isRateLimited)(rateKey)) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Rate limit exceeded\"\n        }, {\n            status: 429\n        });\n    }\n    const prompt = searchParams.get(\"prompt\") || \"\";\n    if (!prompt.trim()) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Missing prompt\"\n        }, {\n            status: 400\n        });\n    }\n    const users = Number(searchParams.get(\"users\") || \"0\");\n    const width = Number(searchParams.get(\"width\") || \"0\") || undefined;\n    const height = Number(searchParams.get(\"height\") || \"0\") || undefined;\n    const seedParam = searchParams.get(\"seed\");\n    const seed = seedParam !== null ? Number(seedParam) : undefined;\n    const models = getModelChain(Number.isFinite(users) ? users : 0);\n    let lastError = null;\n    for (const model of models){\n        const url = buildUrl(prompt, model, width, height, seed);\n        const res = await fetch(url);\n        if (res.ok) {\n            const contentType = res.headers.get(\"content-type\") || \"image/jpeg\";\n            const arrayBuffer = await res.arrayBuffer();\n            return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(Buffer.from(arrayBuffer), {\n                headers: {\n                    \"Content-Type\": contentType,\n                    \"Cache-Control\": \"public, max-age=3600\"\n                }\n            });\n        }\n        lastError = res;\n    }\n    const status = lastError?.status || 502;\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        error: \"Image generation failed\"\n    }, {\n        status\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE1BQU1pQixjQUFjLE1BQU1KLElBQUlJLFdBQVc7WUFDekMsT0FBTyxJQUFJN0MscURBQVlBLENBQUM4QyxPQUFPQyxJQUFJLENBQUNGLGNBQWM7Z0JBQ2hEbEIsU0FBUztvQkFDUCxnQkFBZ0JpQjtvQkFDaEIsaUJBQWlCO2dCQUNuQjtZQUNGO1FBQ0Y7UUFFQUosWUFBWUM7SUFDZDtJQUVBLE1BQU1QLFNBQVNNLFdBQVdOLFVBQVU7SUFDcEMsT0FBT2xDLHFEQUFZQSxDQUFDZ0MsSUFBSSxDQUFDO1FBQUVDLE9BQU87SUFBMEIsR0FBRztRQUFFQztJQUFPO0FBQzFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdHJhaS0tLXZpcnR1YWwtdGFibGV0b3AvLi9hcHAvYXBpL2ltYWdlL3JvdXRlLnRzPzYzZWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgaXNSYXRlTGltaXRlZCB9IGZyb20gJy4uLy4uLy4uL2xpYi9haS9yYXRlTGltaXQnO1xuXG5jb25zdCBQT0xMSU5BVElPTlNfS0VZID0gcHJvY2Vzcy5lbnYuUE9MTElOQVRJT05TX0tFWSB8fCAnJztcblxudHlwZSBNb2RlbE5hbWUgPSAna2xlaW4tbGFyZ2UnIHwgJ2tsZWluJyB8ICd0dXJibycgfCAnZmx1eCcgfCAnemltYWdlJztcblxuZnVuY3Rpb24gZ2V0TW9kZWxDaGFpbih1c2VyQ291bnQ6IG51bWJlcik6IE1vZGVsTmFtZVtdIHtcbiAgaWYgKHVzZXJDb3VudCA8IDUpIHJldHVybiBbJ2tsZWluLWxhcmdlJ107XG4gIGlmICh1c2VyQ291bnQgPD0gMTApIHJldHVybiBbJ2tsZWluJywgJ2tsZWluLWxhcmdlJ107XG4gIGlmICh1c2VyQ291bnQgPD0gNTAwKSByZXR1cm4gWyd0dXJibycsICdrbGVpbicsICdrbGVpbi1sYXJnZSddO1xuICBpZiAodXNlckNvdW50IDw9IDEwMDApIHJldHVybiBbJ2ZsdXgnLCAnemltYWdlJywgJ3R1cmJvJywgJ2tsZWluJywgJ2tsZWluLWxhcmdlJ107XG4gIHJldHVybiBbJ2ZsdXgnLCAnemltYWdlJywgJ3R1cmJvJywgJ2tsZWluJywgJ2tsZWluLWxhcmdlJ107XG59XG5cbmZ1bmN0aW9uIGJ1aWxkVXJsKHByb21wdDogc3RyaW5nLCBtb2RlbDogc3RyaW5nLCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyLCBzZWVkPzogbnVtYmVyKSB7XG4gIGNvbnN0IGJhc2UgPSBgaHR0cHM6Ly9nZW4ucG9sbGluYXRpb25zLmFpL2ltYWdlLyR7ZW5jb2RlVVJJQ29tcG9uZW50KHByb21wdCl9YDtcbiAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICBwYXJhbXMuc2V0KCdtb2RlbCcsIG1vZGVsKTtcbiAgaWYgKFBPTExJTkFUSU9OU19LRVkpIHBhcmFtcy5zZXQoJ2tleScsIFBPTExJTkFUSU9OU19LRVkpO1xuICBpZiAod2lkdGgpIHBhcmFtcy5zZXQoJ3dpZHRoJywgU3RyaW5nKHdpZHRoKSk7XG4gIGlmIChoZWlnaHQpIHBhcmFtcy5zZXQoJ2hlaWdodCcsIFN0cmluZyhoZWlnaHQpKTtcbiAgaWYgKHNlZWQgIT09IHVuZGVmaW5lZCkgcGFyYW1zLnNldCgnc2VlZCcsIFN0cmluZyhzZWVkKSk7XG4gIHJldHVybiBgJHtiYXNlfT8ke3BhcmFtcy50b1N0cmluZygpfWA7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxOiBSZXF1ZXN0KSB7XG4gIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcS51cmwpO1xuICBjb25zdCBpcCA9IChyZXEuaGVhZGVycy5nZXQoJ3gtZm9yd2FyZGVkLWZvcicpIHx8ICd1bmtub3duJykuc3BsaXQoJywnKVswXS50cmltKCk7XG4gIGNvbnN0IHJhdGVLZXkgPSBgaW1hZ2U6JHtpcH1gO1xuICBpZiAoYXdhaXQgaXNSYXRlTGltaXRlZChyYXRlS2V5KSkge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnUmF0ZSBsaW1pdCBleGNlZWRlZCcgfSwgeyBzdGF0dXM6IDQyOSB9KTtcbiAgfVxuICBjb25zdCBwcm9tcHQgPSBzZWFyY2hQYXJhbXMuZ2V0KCdwcm9tcHQnKSB8fCAnJztcbiAgaWYgKCFwcm9tcHQudHJpbSgpKSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdNaXNzaW5nIHByb21wdCcgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgfVxuXG4gIGNvbnN0IHVzZXJzID0gTnVtYmVyKHNlYXJjaFBhcmFtcy5nZXQoJ3VzZXJzJykgfHwgJzAnKTtcbiAgY29uc3Qgd2lkdGggPSBOdW1iZXIoc2VhcmNoUGFyYW1zLmdldCgnd2lkdGgnKSB8fCAnMCcpIHx8IHVuZGVmaW5lZDtcbiAgY29uc3QgaGVpZ2h0ID0gTnVtYmVyKHNlYXJjaFBhcmFtcy5nZXQoJ2hlaWdodCcpIHx8ICcwJykgfHwgdW5kZWZpbmVkO1xuICBjb25zdCBzZWVkUGFyYW0gPSBzZWFyY2hQYXJhbXMuZ2V0KCdzZWVkJyk7XG4gIGNvbnN0IHNlZWQgPSBzZWVkUGFyYW0gIT09IG51bGwgPyBOdW1iZXIoc2VlZFBhcmFtKSA6IHVuZGVmaW5lZDtcblxuICBjb25zdCBtb2RlbHMgPSBnZXRNb2RlbENoYWluKE51bWJlci5pc0Zpbml0ZSh1c2VycykgPyB1c2VycyA6IDApO1xuXG4gIGxldCBsYXN0RXJyb3I6IGFueSA9IG51bGw7XG4gIGZvciAoY29uc3QgbW9kZWwgb2YgbW9kZWxzKSB7XG4gICAgY29uc3QgdXJsID0gYnVpbGRVcmwocHJvbXB0LCBtb2RlbCwgd2lkdGgsIGhlaWdodCwgc2VlZCk7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godXJsKTtcblxuICAgIGlmIChyZXMub2spIHtcbiAgICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSB8fCAnaW1hZ2UvanBlZyc7XG4gICAgICBjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IHJlcy5hcnJheUJ1ZmZlcigpO1xuICAgICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UoQnVmZmVyLmZyb20oYXJyYXlCdWZmZXIpLCB7XG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogY29udGVudFR5cGUsXG4gICAgICAgICAgJ0NhY2hlLUNvbnRyb2wnOiAncHVibGljLCBtYXgtYWdlPTM2MDAnLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgbGFzdEVycm9yID0gcmVzO1xuICB9XG5cbiAgY29uc3Qgc3RhdHVzID0gbGFzdEVycm9yPy5zdGF0dXMgfHwgNTAyO1xuICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0ltYWdlIGdlbmVyYXRpb24gZmFpbGVkJyB9LCB7IHN0YXR1cyB9KTtcbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJpc1JhdGVMaW1pdGVkIiwiUE9MTElOQVRJT05TX0tFWSIsInByb2Nlc3MiLCJlbnYiLCJnZXRNb2RlbENoYWluIiwidXNlckNvdW50IiwiYnVpbGRVcmwiLCJwcm9tcHQiLCJtb2RlbCIsIndpZHRoIiwiaGVpZ2h0Iiwic2VlZCIsImJhc2UiLCJlbmNvZGVVUklDb21wb25lbnQiLCJwYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJzZXQiLCJTdHJpbmciLCJ1bmRlZmluZWQiLCJ0b1N0cmluZyIsIkdFVCIsInJlcSIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsImlwIiwiaGVhZGVycyIsImdldCIsInNwbGl0IiwidHJpbSIsInJhdGVLZXkiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJ1c2VycyIsIk51bWJlciIsInNlZWRQYXJhbSIsIm1vZGVscyIsImlzRmluaXRlIiwibGFzdEVycm9yIiwicmVzIiwiZmV0Y2giLCJvayIsImNvbnRlbnRUeXBlIiwiYXJyYXlCdWZmZXIiLCJCdWZmZXIiLCJmcm9tIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/image/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/ai/rateLimit.ts":
/*!*****************************!*\
  !*** ./lib/ai/rateLimit.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isRateLimited: () => (/* binding */ isRateLimited)\n/* harmony export */ });\n/* harmony import */ var _supabase_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../supabase/server */ \"(rsc)/./lib/supabase/server.ts\");\n\nconst RATE_LIMIT_WINDOW_MS = 60000;\nconst RATE_LIMIT_WINDOW_SEC = 60;\nconst RATE_LIMIT_MAX = 20;\nconst rateLimitStore = new Map();\nfunction isRateLimitedInMemory(key) {\n    const now = Date.now();\n    const windowStart = now - RATE_LIMIT_WINDOW_MS;\n    const timestamps = rateLimitStore.get(key)?.filter((t)=>t >= windowStart) || [];\n    if (timestamps.length >= RATE_LIMIT_MAX) {\n        rateLimitStore.set(key, timestamps);\n        return true;\n    }\n    timestamps.push(now);\n    rateLimitStore.set(key, timestamps);\n    return false;\n}\nasync function isRateLimited(key) {\n    const admin = (0,_supabase_server__WEBPACK_IMPORTED_MODULE_0__.createAdminClient)();\n    if (!admin) {\n        return isRateLimitedInMemory(key);\n    }\n    const { data, error } = await admin.rpc(\"check_rate_limit\", {\n        p_key: key,\n        p_limit: RATE_LIMIT_MAX,\n        p_window_seconds: RATE_LIMIT_WINDOW_SEC\n    });\n    if (error) {\n        return isRateLimitedInMemory(key);\n    }\n    return Boolean(data);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYWkvcmF0ZUxpbWl0LnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXVEO0FBRXZELE1BQU1DLHVCQUF1QjtBQUM3QixNQUFNQyx3QkFBd0I7QUFDOUIsTUFBTUMsaUJBQWlCO0FBQ3ZCLE1BQU1DLGlCQUFpQixJQUFJQztBQUUzQixTQUFTQyxzQkFBc0JDLEdBQVc7SUFDeEMsTUFBTUMsTUFBTUMsS0FBS0QsR0FBRztJQUNwQixNQUFNRSxjQUFjRixNQUFNUDtJQUMxQixNQUFNVSxhQUFhUCxlQUFlUSxHQUFHLENBQUNMLE1BQU1NLE9BQU8sQ0FBQ0MsSUFBTUEsS0FBS0osZ0JBQWdCLEVBQUU7SUFFakYsSUFBSUMsV0FBV0ksTUFBTSxJQUFJWixnQkFBZ0I7UUFDdkNDLGVBQWVZLEdBQUcsQ0FBQ1QsS0FBS0k7UUFDeEIsT0FBTztJQUNUO0lBRUFBLFdBQVdNLElBQUksQ0FBQ1Q7SUFDaEJKLGVBQWVZLEdBQUcsQ0FBQ1QsS0FBS0k7SUFDeEIsT0FBTztBQUNUO0FBRU8sZUFBZU8sY0FBY1gsR0FBVztJQUM3QyxNQUFNWSxRQUFRbkIsbUVBQWlCQTtJQUMvQixJQUFJLENBQUNtQixPQUFPO1FBQ1YsT0FBT2Isc0JBQXNCQztJQUMvQjtJQUVBLE1BQU0sRUFBRWEsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNRixNQUFNRyxHQUFHLENBQUMsb0JBQW9CO1FBQzFEQyxPQUFPaEI7UUFDUGlCLFNBQVNyQjtRQUNUc0Isa0JBQWtCdkI7SUFDcEI7SUFFQSxJQUFJbUIsT0FBTztRQUNULE9BQU9mLHNCQUFzQkM7SUFDL0I7SUFFQSxPQUFPbUIsUUFBUU47QUFDakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0cmFpLS0tdmlydHVhbC10YWJsZXRvcC8uL2xpYi9haS9yYXRlTGltaXQudHM/YmI2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVBZG1pbkNsaWVudCB9IGZyb20gJy4uL3N1cGFiYXNlL3NlcnZlcic7XG5cbmNvbnN0IFJBVEVfTElNSVRfV0lORE9XX01TID0gNjBfMDAwO1xuY29uc3QgUkFURV9MSU1JVF9XSU5ET1dfU0VDID0gNjA7XG5jb25zdCBSQVRFX0xJTUlUX01BWCA9IDIwO1xuY29uc3QgcmF0ZUxpbWl0U3RvcmUgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyW10+KCk7XG5cbmZ1bmN0aW9uIGlzUmF0ZUxpbWl0ZWRJbk1lbW9yeShrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICBjb25zdCB3aW5kb3dTdGFydCA9IG5vdyAtIFJBVEVfTElNSVRfV0lORE9XX01TO1xuICBjb25zdCB0aW1lc3RhbXBzID0gcmF0ZUxpbWl0U3RvcmUuZ2V0KGtleSk/LmZpbHRlcigodCkgPT4gdCA+PSB3aW5kb3dTdGFydCkgfHwgW107XG5cbiAgaWYgKHRpbWVzdGFtcHMubGVuZ3RoID49IFJBVEVfTElNSVRfTUFYKSB7XG4gICAgcmF0ZUxpbWl0U3RvcmUuc2V0KGtleSwgdGltZXN0YW1wcyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB0aW1lc3RhbXBzLnB1c2gobm93KTtcbiAgcmF0ZUxpbWl0U3RvcmUuc2V0KGtleSwgdGltZXN0YW1wcyk7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzUmF0ZUxpbWl0ZWQoa2V5OiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgY29uc3QgYWRtaW4gPSBjcmVhdGVBZG1pbkNsaWVudCgpO1xuICBpZiAoIWFkbWluKSB7XG4gICAgcmV0dXJuIGlzUmF0ZUxpbWl0ZWRJbk1lbW9yeShrZXkpO1xuICB9XG5cbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgYWRtaW4ucnBjKCdjaGVja19yYXRlX2xpbWl0Jywge1xuICAgIHBfa2V5OiBrZXksXG4gICAgcF9saW1pdDogUkFURV9MSU1JVF9NQVgsXG4gICAgcF93aW5kb3dfc2Vjb25kczogUkFURV9MSU1JVF9XSU5ET1dfU0VDLFxuICB9KTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICByZXR1cm4gaXNSYXRlTGltaXRlZEluTWVtb3J5KGtleSk7XG4gIH1cblxuICByZXR1cm4gQm9vbGVhbihkYXRhKTtcbn0iXSwibmFtZXMiOlsiY3JlYXRlQWRtaW5DbGllbnQiLCJSQVRFX0xJTUlUX1dJTkRPV19NUyIsIlJBVEVfTElNSVRfV0lORE9XX1NFQyIsIlJBVEVfTElNSVRfTUFYIiwicmF0ZUxpbWl0U3RvcmUiLCJNYXAiLCJpc1JhdGVMaW1pdGVkSW5NZW1vcnkiLCJrZXkiLCJub3ciLCJEYXRlIiwid2luZG93U3RhcnQiLCJ0aW1lc3RhbXBzIiwiZ2V0IiwiZmlsdGVyIiwidCIsImxlbmd0aCIsInNldCIsInB1c2giLCJpc1JhdGVMaW1pdGVkIiwiYWRtaW4iLCJkYXRhIiwiZXJyb3IiLCJycGMiLCJwX2tleSIsInBfbGltaXQiLCJwX3dpbmRvd19zZWNvbmRzIiwiQm9vbGVhbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/ai/rateLimit.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase/server.ts":
/*!********************************!*\
  !*** ./lib/supabase/server.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createAdminClient: () => (/* binding */ createAdminClient),\n/* harmony export */   createServerClient: () => (/* binding */ createServerClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst SUPABASE_URL = \"https://uhfqpdcylnhqmbhqzfqp.supabase.co\";\nconst SUPABASE_ANON_KEY = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVoZnFwZGN5bG5ocW1iaHF6ZnFwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAwNTg0OTcsImV4cCI6MjA4NTYzNDQ5N30.bsnJbhS4hS8JNxU4JIyIX4AWpm-rrmmK2KAWaPgGzm0\";\nconst SUPABASE_SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY;\nif (!SUPABASE_URL || !SUPABASE_ANON_KEY) {\n    throw new Error(\"Missing Supabase env vars\");\n}\nfunction createServerClient(accessToken) {\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(SUPABASE_URL, SUPABASE_ANON_KEY, {\n        global: {\n            headers: accessToken ? {\n                Authorization: `Bearer ${accessToken}`\n            } : {}\n        }\n    });\n}\nfunction createAdminClient() {\n    if (!SUPABASE_SERVICE_ROLE_KEY) return null;\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY, {\n        auth: {\n            persistSession: false\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3VwYWJhc2Uvc2VydmVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxRDtBQUVyRCxNQUFNQyxlQUFlQywwQ0FBb0M7QUFDekQsTUFBTUcsb0JBQW9CSCxrTkFBeUM7QUFDbkUsTUFBTUssNEJBQTRCTCxRQUFRQyxHQUFHLENBQUNJLHlCQUF5QjtBQUV2RSxJQUFJLENBQUNOLGdCQUFnQixDQUFDSSxtQkFBbUI7SUFDdkMsTUFBTSxJQUFJRyxNQUFNO0FBQ2xCO0FBRU8sU0FBU0MsbUJBQW1CQyxXQUFvQjtJQUNyRCxPQUFPVixtRUFBWUEsQ0FBQ0MsY0FBY0ksbUJBQW1CO1FBQ25ETSxRQUFRO1lBQ05DLFNBQVNGLGNBQWM7Z0JBQUVHLGVBQWUsQ0FBQyxPQUFPLEVBQUVILFlBQVksQ0FBQztZQUFDLElBQUksQ0FBQztRQUN2RTtJQUNGO0FBQ0Y7QUFFTyxTQUFTSTtJQUNkLElBQUksQ0FBQ1AsMkJBQTJCLE9BQU87SUFDdkMsT0FBT1AsbUVBQVlBLENBQUNDLGNBQWNNLDJCQUEyQjtRQUMzRFEsTUFBTTtZQUFFQyxnQkFBZ0I7UUFBTTtJQUNoQztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdHJhaS0tLXZpcnR1YWwtdGFibGV0b3AvLi9saWIvc3VwYWJhc2Uvc2VydmVyLnRzPzY2MjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcblxuY29uc3QgU1VQQUJBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIGFzIHN0cmluZztcbmNvbnN0IFNVUEFCQVNFX0FOT05fS0VZID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkgYXMgc3RyaW5nO1xuY29uc3QgU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG5pZiAoIVNVUEFCQVNFX1VSTCB8fCAhU1VQQUJBU0VfQU5PTl9LRVkpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIFN1cGFiYXNlIGVudiB2YXJzJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZXJ2ZXJDbGllbnQoYWNjZXNzVG9rZW4/OiBzdHJpbmcpIHtcbiAgcmV0dXJuIGNyZWF0ZUNsaWVudChTVVBBQkFTRV9VUkwsIFNVUEFCQVNFX0FOT05fS0VZLCB7XG4gICAgZ2xvYmFsOiB7XG4gICAgICBoZWFkZXJzOiBhY2Nlc3NUb2tlbiA/IHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2FjY2Vzc1Rva2VufWAgfSA6IHt9LFxuICAgIH0sXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQWRtaW5DbGllbnQoKSB7XG4gIGlmICghU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSkgcmV0dXJuIG51bGw7XG4gIHJldHVybiBjcmVhdGVDbGllbnQoU1VQQUJBU0VfVVJMLCBTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZLCB7XG4gICAgYXV0aDogeyBwZXJzaXN0U2Vzc2lvbjogZmFsc2UgfSxcbiAgfSk7XG59Il0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsIlNVUEFCQVNFX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJTVVBBQkFTRV9BTk9OX0tFWSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsIkVycm9yIiwiY3JlYXRlU2VydmVyQ2xpZW50IiwiYWNjZXNzVG9rZW4iLCJnbG9iYWwiLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsImNyZWF0ZUFkbWluQ2xpZW50IiwiYXV0aCIsInBlcnNpc3RTZXNzaW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase/server.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fimage%2Froute&page=%2Fapi%2Fimage%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fimage%2Froute.ts&appDir=%2Fhome%2Fjr%2FProjetos%2FMestrAi%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fjr%2FProjetos%2FMestrAi&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();