"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/validate-key/route";
exports.ids = ["app/api/validate-key/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:stream");

/***/ }),

/***/ "node:stream/web":
/*!**********************************!*\
  !*** external "node:stream/web" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("node:stream/web");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvalidate-key%2Froute&page=%2Fapi%2Fvalidate-key%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvalidate-key%2Froute.ts&appDir=%2Fhome%2Fjr%2FProjetos%2FMestrAi%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fjr%2FProjetos%2FMestrAi&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvalidate-key%2Froute&page=%2Fapi%2Fvalidate-key%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvalidate-key%2Froute.ts&appDir=%2Fhome%2Fjr%2FProjetos%2FMestrAi%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fjr%2FProjetos%2FMestrAi&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _home_jr_Projetos_MestrAi_app_api_validate_key_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/validate-key/route.ts */ \"(rsc)/./app/api/validate-key/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/validate-key/route\",\n        pathname: \"/api/validate-key\",\n        filename: \"route\",\n        bundlePath: \"app/api/validate-key/route\"\n    },\n    resolvedPagePath: \"/home/jr/Projetos/MestrAi/app/api/validate-key/route.ts\",\n    nextConfigOutput,\n    userland: _home_jr_Projetos_MestrAi_app_api_validate_key_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/validate-key/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ2YWxpZGF0ZS1rZXklMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnZhbGlkYXRlLWtleSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnZhbGlkYXRlLWtleSUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGanIlMkZQcm9qZXRvcyUyRk1lc3RyQWklMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRmhvbWUlMkZqciUyRlByb2pldG9zJTJGTWVzdHJBaSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDTztBQUNwRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RyYWktLS12aXJ0dWFsLXRhYmxldG9wLz9mNzIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9ob21lL2pyL1Byb2pldG9zL01lc3RyQWkvYXBwL2FwaS92YWxpZGF0ZS1rZXkvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3ZhbGlkYXRlLWtleS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3ZhbGlkYXRlLWtleVwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvdmFsaWRhdGUta2V5L3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL2hvbWUvanIvUHJvamV0b3MvTWVzdHJBaS9hcHAvYXBpL3ZhbGlkYXRlLWtleS9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvdmFsaWRhdGUta2V5L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvalidate-key%2Froute&page=%2Fapi%2Fvalidate-key%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvalidate-key%2Froute.ts&appDir=%2Fhome%2Fjr%2FProjetos%2FMestrAi%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fjr%2FProjetos%2FMestrAi&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/validate-key/route.ts":
/*!***************************************!*\
  !*** ./app/api/validate-key/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var groq_sdk__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! groq-sdk */ \"(rsc)/./node_modules/groq-sdk/index.mjs\");\n/* harmony import */ var _lib_ai_keyPool__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/ai/keyPool */ \"(rsc)/./lib/ai/keyPool.ts\");\n/* harmony import */ var _lib_ai_rateLimit__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/ai/rateLimit */ \"(rsc)/./lib/ai/rateLimit.ts\");\n/* harmony import */ var _lib_ai_modelPool__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/ai/modelPool */ \"(rsc)/./lib/ai/modelPool.ts\");\n\n\n\n\n\nasync function POST(req) {\n    try {\n        const userKey = req.headers.get(\"x-custom-api-key\") || undefined;\n        if (!userKey) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                ok: false\n            }, {\n                status: 401\n            });\n        }\n        const ip = (req.headers.get(\"x-forwarded-for\") || \"unknown\").split(\",\")[0].trim();\n        const rateKey = `validate:${ip}`;\n        if (await (0,_lib_ai_rateLimit__WEBPACK_IMPORTED_MODULE_2__.isRateLimited)(rateKey)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                ok: false,\n                error: \"Rate limit exceeded\"\n            }, {\n                status: 429\n            });\n        }\n        const apiKey = (0,_lib_ai_keyPool__WEBPACK_IMPORTED_MODULE_1__.pickApiKey)(userKey);\n        const ai = new groq_sdk__WEBPACK_IMPORTED_MODULE_4__[\"default\"]({\n            apiKey\n        });\n        const model = _lib_ai_modelPool__WEBPACK_IMPORTED_MODULE_3__.MODELS[0];\n        try {\n            await ai.chat.completions.create({\n                model,\n                messages: [\n                    {\n                        role: \"user\",\n                        content: \"ping\"\n                    }\n                ],\n                max_tokens: 1,\n                temperature: 0\n            });\n        } catch (err) {\n            const status = err?.status || err?.response?.status || err?.code;\n            if (status === 429) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    ok: false,\n                    error: \"Essa chave est\\xe1 sem recursos. Tente outra.\"\n                }, {\n                    status: 429\n                });\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                ok: false,\n                error: \"Falha ao validar a chave.\"\n            }, {\n                status: 400\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: true\n        });\n    } catch (error) {\n        const message = error?.message || \"Validation failed\";\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: false,\n            error: message\n        }, {\n            status: 400\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3ZhbGlkYXRlLWtleS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBMkM7QUFDZjtBQUN5QjtBQUNLO0FBQ1A7QUFFNUMsZUFBZUssS0FBS0MsR0FBWTtJQUNyQyxJQUFJO1FBQ0YsTUFBTUMsVUFBVUQsSUFBSUUsT0FBTyxDQUFDQyxHQUFHLENBQUMsdUJBQXVCQztRQUN2RCxJQUFJLENBQUNILFNBQVM7WUFDWixPQUFPUCxxREFBWUEsQ0FBQ1csSUFBSSxDQUFDO2dCQUFFQyxJQUFJO1lBQU0sR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQ3hEO1FBRUEsTUFBTUMsS0FBSyxDQUFDUixJQUFJRSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxzQkFBc0IsU0FBUSxFQUFHTSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQ0MsSUFBSTtRQUMvRSxNQUFNQyxVQUFVLENBQUMsU0FBUyxFQUFFSCxHQUFHLENBQUM7UUFDOUIsSUFBSSxNQUFNWCxnRUFBYUEsQ0FBQ2MsVUFBVTtZQUNsQyxPQUFPakIscURBQVlBLENBQUNXLElBQUksQ0FBQztnQkFBRUMsSUFBSTtnQkFBT00sT0FBTztZQUFzQixHQUFHO2dCQUFFTCxRQUFRO1lBQUk7UUFDdEY7UUFDQSxNQUFNTSxTQUFTakIsMkRBQVVBLENBQUNLO1FBQzFCLE1BQU1hLEtBQUssSUFBSW5CLGdEQUFJQSxDQUFDO1lBQUVrQjtRQUFPO1FBQzdCLE1BQU1FLFFBQVFqQixxREFBTSxDQUFDLEVBQUU7UUFDdkIsSUFBSTtZQUNGLE1BQU1nQixHQUFHRSxJQUFJLENBQUNDLFdBQVcsQ0FBQ0MsTUFBTSxDQUFDO2dCQUMvQkg7Z0JBQ0FJLFVBQVU7b0JBQUM7d0JBQUVDLE1BQU07d0JBQVFDLFNBQVM7b0JBQU87aUJBQUU7Z0JBQzdDQyxZQUFZO2dCQUNaQyxhQUFhO1lBQ2Y7UUFDRixFQUFFLE9BQU9DLEtBQVU7WUFDakIsTUFBTWpCLFNBQVNpQixLQUFLakIsVUFBVWlCLEtBQUtDLFVBQVVsQixVQUFVaUIsS0FBS0U7WUFDNUQsSUFBSW5CLFdBQVcsS0FBSztnQkFDbEIsT0FBT2IscURBQVlBLENBQUNXLElBQUksQ0FDdEI7b0JBQUVDLElBQUk7b0JBQU9NLE9BQU87Z0JBQTZDLEdBQ2pFO29CQUFFTCxRQUFRO2dCQUFJO1lBRWxCO1lBQ0EsT0FBT2IscURBQVlBLENBQUNXLElBQUksQ0FDdEI7Z0JBQUVDLElBQUk7Z0JBQU9NLE9BQU87WUFBNEIsR0FDaEQ7Z0JBQUVMLFFBQVE7WUFBSTtRQUVsQjtRQUVBLE9BQU9iLHFEQUFZQSxDQUFDVyxJQUFJLENBQUM7WUFBRUMsSUFBSTtRQUFLO0lBQ3RDLEVBQUUsT0FBT00sT0FBWTtRQUNuQixNQUFNZSxVQUFVZixPQUFPZSxXQUFXO1FBQ2xDLE9BQU9qQyxxREFBWUEsQ0FBQ1csSUFBSSxDQUFDO1lBQUVDLElBQUk7WUFBT00sT0FBT2U7UUFBUSxHQUFHO1lBQUVwQixRQUFRO1FBQUk7SUFDeEU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RyYWktLS12aXJ0dWFsLXRhYmxldG9wLy4vYXBwL2FwaS92YWxpZGF0ZS1rZXkvcm91dGUudHM/YmUwZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgR3JvcSBmcm9tICdncm9xLXNkayc7XG5pbXBvcnQgeyBwaWNrQXBpS2V5IH0gZnJvbSAnLi4vLi4vLi4vbGliL2FpL2tleVBvb2wnO1xuaW1wb3J0IHsgaXNSYXRlTGltaXRlZCB9IGZyb20gJy4uLy4uLy4uL2xpYi9haS9yYXRlTGltaXQnO1xuaW1wb3J0IHsgTU9ERUxTIH0gZnJvbSAnLi4vLi4vLi4vbGliL2FpL21vZGVsUG9vbCc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogUmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHVzZXJLZXkgPSByZXEuaGVhZGVycy5nZXQoJ3gtY3VzdG9tLWFwaS1rZXknKSB8fCB1bmRlZmluZWQ7XG4gICAgaWYgKCF1c2VyS2V5KSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBvazogZmFsc2UgfSwgeyBzdGF0dXM6IDQwMSB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBpcCA9IChyZXEuaGVhZGVycy5nZXQoJ3gtZm9yd2FyZGVkLWZvcicpIHx8ICd1bmtub3duJykuc3BsaXQoJywnKVswXS50cmltKCk7XG4gICAgY29uc3QgcmF0ZUtleSA9IGB2YWxpZGF0ZToke2lwfWA7XG4gICAgICBpZiAoYXdhaXQgaXNSYXRlTGltaXRlZChyYXRlS2V5KSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgb2s6IGZhbHNlLCBlcnJvcjogJ1JhdGUgbGltaXQgZXhjZWVkZWQnIH0sIHsgc3RhdHVzOiA0MjkgfSk7XG4gICAgfVxuICAgIGNvbnN0IGFwaUtleSA9IHBpY2tBcGlLZXkodXNlcktleSk7XG4gICAgY29uc3QgYWkgPSBuZXcgR3JvcSh7IGFwaUtleSB9KTtcbiAgICBjb25zdCBtb2RlbCA9IE1PREVMU1swXTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgYWkuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoe1xuICAgICAgICBtb2RlbCxcbiAgICAgICAgbWVzc2FnZXM6IFt7IHJvbGU6ICd1c2VyJywgY29udGVudDogJ3BpbmcnIH1dLFxuICAgICAgICBtYXhfdG9rZW5zOiAxLFxuICAgICAgICB0ZW1wZXJhdHVyZTogMCxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBjb25zdCBzdGF0dXMgPSBlcnI/LnN0YXR1cyB8fCBlcnI/LnJlc3BvbnNlPy5zdGF0dXMgfHwgZXJyPy5jb2RlO1xuICAgICAgaWYgKHN0YXR1cyA9PT0gNDI5KSB7XG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgICB7IG9rOiBmYWxzZSwgZXJyb3I6ICdFc3NhIGNoYXZlIGVzdMOhIHNlbSByZWN1cnNvcy4gVGVudGUgb3V0cmEuJyB9LFxuICAgICAgICAgIHsgc3RhdHVzOiA0MjkgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IG9rOiBmYWxzZSwgZXJyb3I6ICdGYWxoYSBhbyB2YWxpZGFyIGEgY2hhdmUuJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgb2s6IHRydWUgfSk7XG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZXJyb3I/Lm1lc3NhZ2UgfHwgJ1ZhbGlkYXRpb24gZmFpbGVkJztcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBvazogZmFsc2UsIGVycm9yOiBtZXNzYWdlIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJHcm9xIiwicGlja0FwaUtleSIsImlzUmF0ZUxpbWl0ZWQiLCJNT0RFTFMiLCJQT1NUIiwicmVxIiwidXNlcktleSIsImhlYWRlcnMiLCJnZXQiLCJ1bmRlZmluZWQiLCJqc29uIiwib2siLCJzdGF0dXMiLCJpcCIsInNwbGl0IiwidHJpbSIsInJhdGVLZXkiLCJlcnJvciIsImFwaUtleSIsImFpIiwibW9kZWwiLCJjaGF0IiwiY29tcGxldGlvbnMiLCJjcmVhdGUiLCJtZXNzYWdlcyIsInJvbGUiLCJjb250ZW50IiwibWF4X3Rva2VucyIsInRlbXBlcmF0dXJlIiwiZXJyIiwicmVzcG9uc2UiLCJjb2RlIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/validate-key/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/ai/keyPool.ts":
/*!***************************!*\
  !*** ./lib/ai/keyPool.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pickApiKey: () => (/* binding */ pickApiKey)\n/* harmony export */ });\nfunction pickApiKey(userKey) {\n    if (userKey && userKey.trim().length > 0) return userKey.trim();\n    throw new Error(\"Missing BYOK header\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYWkva2V5UG9vbC50cyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sU0FBU0EsV0FBV0MsT0FBZ0I7SUFDekMsSUFBSUEsV0FBV0EsUUFBUUMsSUFBSSxHQUFHQyxNQUFNLEdBQUcsR0FBRyxPQUFPRixRQUFRQyxJQUFJO0lBQzdELE1BQU0sSUFBSUUsTUFBTTtBQUNsQiIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RyYWktLS12aXJ0dWFsLXRhYmxldG9wLy4vbGliL2FpL2tleVBvb2wudHM/NjQ0MCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gcGlja0FwaUtleSh1c2VyS2V5Pzogc3RyaW5nKTogc3RyaW5nIHtcbiAgaWYgKHVzZXJLZXkgJiYgdXNlcktleS50cmltKCkubGVuZ3RoID4gMCkgcmV0dXJuIHVzZXJLZXkudHJpbSgpO1xuICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgQllPSyBoZWFkZXInKTtcbn1cbiJdLCJuYW1lcyI6WyJwaWNrQXBpS2V5IiwidXNlcktleSIsInRyaW0iLCJsZW5ndGgiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/ai/keyPool.ts\n");

/***/ }),

/***/ "(rsc)/./lib/ai/modelPool.ts":
/*!*****************************!*\
  !*** ./lib/ai/modelPool.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MODELS: () => (/* binding */ MODELS),\n/* harmony export */   withModelFallback: () => (/* binding */ withModelFallback)\n/* harmony export */ });\nconst MODELS = [\n    // TENTATIVA 1: O Melhor (Llama 3.3 70B)\n    \"llama-3.3-70b-versatile\",\n    // TENTATIVA 2: O Lógico (Qwen 2.5 72B) - Caso o Llama esteja com fila\n    \"qwen-2.5-72b-instruct\",\n    // TENTATIVA 3: O \"Tanque de Guerra\" (Llama 3.1 8B) - Caso você estoure o limite diário\n    \"llama-3.1-8b-instant\"\n];\nconst delay = (ms)=>new Promise((resolve)=>setTimeout(resolve, ms));\nconst modelIndexByKey = new Map();\nfunction clampIndex(index) {\n    if (index < 0) return 0;\n    if (index >= MODELS.length) return MODELS.length - 1;\n    return index;\n}\nasync function withModelFallback(handler, options) {\n    let lastError;\n    const wait = Math.max(0, options?.minDelayMs ?? 0);\n    const startIndex = options?.key ? clampIndex(modelIndexByKey.get(options.key) ?? 0) : 0;\n    for(let i = startIndex; i < MODELS.length; i += 1){\n        const model = MODELS[i];\n        try {\n            if (wait > 0 && i > startIndex) {\n                await delay(wait * (i - startIndex));\n            }\n            const result = await handler(model);\n            if (options?.key) {\n                modelIndexByKey.set(options.key, i);\n            }\n            return result;\n        } catch (error) {\n            const status = error?.status || error?.code;\n            if (status === 429) {\n                throw error;\n            }\n            lastError = error;\n        }\n    }\n    if (options?.key) {\n        modelIndexByKey.set(options.key, 0);\n    }\n    throw lastError ?? new Error(\"All models failed\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYWkvbW9kZWxQb29sLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQU8sTUFBTUEsU0FBUztJQUNwQix3Q0FBd0M7SUFDeEM7SUFFQSxzRUFBc0U7SUFDdEU7SUFFQSx1RkFBdUY7SUFDdkY7Q0FDRCxDQUFDO0FBRUYsTUFBTUMsUUFBUSxDQUFDQyxLQUFlLElBQUlDLFFBQVEsQ0FBQ0MsVUFBWUMsV0FBV0QsU0FBU0Y7QUFFM0UsTUFBTUksa0JBQWtCLElBQUlDO0FBRTVCLFNBQVNDLFdBQVdDLEtBQWE7SUFDL0IsSUFBSUEsUUFBUSxHQUFHLE9BQU87SUFDdEIsSUFBSUEsU0FBU1QsT0FBT1UsTUFBTSxFQUFFLE9BQU9WLE9BQU9VLE1BQU0sR0FBRztJQUNuRCxPQUFPRDtBQUNUO0FBRU8sZUFBZUUsa0JBQ3BCQyxPQUFzQyxFQUN0Q0MsT0FBK0M7SUFFL0MsSUFBSUM7SUFDSixNQUFNQyxPQUFPQyxLQUFLQyxHQUFHLENBQUMsR0FBR0osU0FBU0ssY0FBYztJQUNoRCxNQUFNQyxhQUFhTixTQUFTTyxNQUN4QlosV0FBV0YsZ0JBQWdCZSxHQUFHLENBQUNSLFFBQVFPLEdBQUcsS0FBSyxLQUMvQztJQUVKLElBQUssSUFBSUUsSUFBSUgsWUFBWUcsSUFBSXRCLE9BQU9VLE1BQU0sRUFBRVksS0FBSyxFQUFHO1FBQ2xELE1BQU1DLFFBQVF2QixNQUFNLENBQUNzQixFQUFFO1FBQ3ZCLElBQUk7WUFDRixJQUFJUCxPQUFPLEtBQUtPLElBQUlILFlBQVk7Z0JBQzlCLE1BQU1sQixNQUFNYyxPQUFRTyxDQUFBQSxJQUFJSCxVQUFTO1lBQ25DO1lBQ0EsTUFBTUssU0FBUyxNQUFNWixRQUFRVztZQUM3QixJQUFJVixTQUFTTyxLQUFLO2dCQUNoQmQsZ0JBQWdCbUIsR0FBRyxDQUFDWixRQUFRTyxHQUFHLEVBQUVFO1lBQ25DO1lBQ0EsT0FBT0U7UUFDVCxFQUFFLE9BQU9FLE9BQU87WUFDZCxNQUFNQyxTQUFTLE9BQWdCQSxVQUFXRCxPQUFlRTtZQUN6RCxJQUFJRCxXQUFXLEtBQUs7Z0JBQ2xCLE1BQU1EO1lBQ1I7WUFDQVosWUFBWVk7UUFDZDtJQUNGO0lBRUEsSUFBSWIsU0FBU08sS0FBSztRQUNoQmQsZ0JBQWdCbUIsR0FBRyxDQUFDWixRQUFRTyxHQUFHLEVBQUU7SUFDbkM7SUFFQSxNQUFNTixhQUFhLElBQUllLE1BQU07QUFDL0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0cmFpLS0tdmlydHVhbC10YWJsZXRvcC8uL2xpYi9haS9tb2RlbFBvb2wudHM/MTZkNiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgTU9ERUxTID0gW1xuICAvLyBURU5UQVRJVkEgMTogTyBNZWxob3IgKExsYW1hIDMuMyA3MEIpXG4gICdsbGFtYS0zLjMtNzBiLXZlcnNhdGlsZScsXG5cbiAgLy8gVEVOVEFUSVZBIDI6IE8gTMOzZ2ljbyAoUXdlbiAyLjUgNzJCKSAtIENhc28gbyBMbGFtYSBlc3RlamEgY29tIGZpbGFcbiAgJ3F3ZW4tMi41LTcyYi1pbnN0cnVjdCcsXG5cbiAgLy8gVEVOVEFUSVZBIDM6IE8gXCJUYW5xdWUgZGUgR3VlcnJhXCIgKExsYW1hIDMuMSA4QikgLSBDYXNvIHZvY8OqIGVzdG91cmUgbyBsaW1pdGUgZGnDoXJpb1xuICAnbGxhbWEtMy4xLThiLWluc3RhbnQnLFxuXTtcblxuY29uc3QgZGVsYXkgPSAobXM6IG51bWJlcikgPT4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcblxuY29uc3QgbW9kZWxJbmRleEJ5S2V5ID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcblxuZnVuY3Rpb24gY2xhbXBJbmRleChpbmRleDogbnVtYmVyKSB7XG4gIGlmIChpbmRleCA8IDApIHJldHVybiAwO1xuICBpZiAoaW5kZXggPj0gTU9ERUxTLmxlbmd0aCkgcmV0dXJuIE1PREVMUy5sZW5ndGggLSAxO1xuICByZXR1cm4gaW5kZXg7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3aXRoTW9kZWxGYWxsYmFjazxUPihcbiAgaGFuZGxlcjogKG1vZGVsOiBzdHJpbmcpID0+IFByb21pc2U8VD4sXG4gIG9wdGlvbnM/OiB7IG1pbkRlbGF5TXM/OiBudW1iZXI7IGtleT86IHN0cmluZyB9XG4pOiBQcm9taXNlPFQ+IHtcbiAgbGV0IGxhc3RFcnJvcjogdW5rbm93bjtcbiAgY29uc3Qgd2FpdCA9IE1hdGgubWF4KDAsIG9wdGlvbnM/Lm1pbkRlbGF5TXMgPz8gMCk7XG4gIGNvbnN0IHN0YXJ0SW5kZXggPSBvcHRpb25zPy5rZXlcbiAgICA/IGNsYW1wSW5kZXgobW9kZWxJbmRleEJ5S2V5LmdldChvcHRpb25zLmtleSkgPz8gMClcbiAgICA6IDA7XG5cbiAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPCBNT0RFTFMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBtb2RlbCA9IE1PREVMU1tpXTtcbiAgICB0cnkge1xuICAgICAgaWYgKHdhaXQgPiAwICYmIGkgPiBzdGFydEluZGV4KSB7XG4gICAgICAgIGF3YWl0IGRlbGF5KHdhaXQgKiAoaSAtIHN0YXJ0SW5kZXgpKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGhhbmRsZXIobW9kZWwpO1xuICAgICAgaWYgKG9wdGlvbnM/LmtleSkge1xuICAgICAgICBtb2RlbEluZGV4QnlLZXkuc2V0KG9wdGlvbnMua2V5LCBpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnN0IHN0YXR1cyA9IChlcnJvciBhcyBhbnkpPy5zdGF0dXMgfHwgKGVycm9yIGFzIGFueSk/LmNvZGU7XG4gICAgICBpZiAoc3RhdHVzID09PSA0MjkpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgICBsYXN0RXJyb3IgPSBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBpZiAob3B0aW9ucz8ua2V5KSB7XG4gICAgbW9kZWxJbmRleEJ5S2V5LnNldChvcHRpb25zLmtleSwgMCk7XG4gIH1cblxuICB0aHJvdyBsYXN0RXJyb3IgPz8gbmV3IEVycm9yKCdBbGwgbW9kZWxzIGZhaWxlZCcpO1xufVxuIl0sIm5hbWVzIjpbIk1PREVMUyIsImRlbGF5IiwibXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJtb2RlbEluZGV4QnlLZXkiLCJNYXAiLCJjbGFtcEluZGV4IiwiaW5kZXgiLCJsZW5ndGgiLCJ3aXRoTW9kZWxGYWxsYmFjayIsImhhbmRsZXIiLCJvcHRpb25zIiwibGFzdEVycm9yIiwid2FpdCIsIk1hdGgiLCJtYXgiLCJtaW5EZWxheU1zIiwic3RhcnRJbmRleCIsImtleSIsImdldCIsImkiLCJtb2RlbCIsInJlc3VsdCIsInNldCIsImVycm9yIiwic3RhdHVzIiwiY29kZSIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/ai/modelPool.ts\n");

/***/ }),

/***/ "(rsc)/./lib/ai/rateLimit.ts":
/*!*****************************!*\
  !*** ./lib/ai/rateLimit.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isRateLimited: () => (/* binding */ isRateLimited)\n/* harmony export */ });\n/* harmony import */ var _supabase_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../supabase/server */ \"(rsc)/./lib/supabase/server.ts\");\n\nconst RATE_LIMIT_WINDOW_MS = 60000;\nconst RATE_LIMIT_WINDOW_SEC = 60;\nconst RATE_LIMIT_MAX = 20;\nconst rateLimitStore = new Map();\nfunction isRateLimitedInMemory(key) {\n    const now = Date.now();\n    const windowStart = now - RATE_LIMIT_WINDOW_MS;\n    const timestamps = rateLimitStore.get(key)?.filter((t)=>t >= windowStart) || [];\n    if (timestamps.length >= RATE_LIMIT_MAX) {\n        rateLimitStore.set(key, timestamps);\n        return true;\n    }\n    timestamps.push(now);\n    rateLimitStore.set(key, timestamps);\n    return false;\n}\nasync function isRateLimited(key) {\n    const admin = (0,_supabase_server__WEBPACK_IMPORTED_MODULE_0__.createAdminClient)();\n    if (!admin) {\n        return isRateLimitedInMemory(key);\n    }\n    const { data, error } = await admin.rpc(\"check_rate_limit\", {\n        p_key: key,\n        p_limit: RATE_LIMIT_MAX,\n        p_window_seconds: RATE_LIMIT_WINDOW_SEC\n    });\n    if (error) {\n        return isRateLimitedInMemory(key);\n    }\n    return Boolean(data);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYWkvcmF0ZUxpbWl0LnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXVEO0FBRXZELE1BQU1DLHVCQUF1QjtBQUM3QixNQUFNQyx3QkFBd0I7QUFDOUIsTUFBTUMsaUJBQWlCO0FBQ3ZCLE1BQU1DLGlCQUFpQixJQUFJQztBQUUzQixTQUFTQyxzQkFBc0JDLEdBQVc7SUFDeEMsTUFBTUMsTUFBTUMsS0FBS0QsR0FBRztJQUNwQixNQUFNRSxjQUFjRixNQUFNUDtJQUMxQixNQUFNVSxhQUFhUCxlQUFlUSxHQUFHLENBQUNMLE1BQU1NLE9BQU8sQ0FBQ0MsSUFBTUEsS0FBS0osZ0JBQWdCLEVBQUU7SUFFakYsSUFBSUMsV0FBV0ksTUFBTSxJQUFJWixnQkFBZ0I7UUFDdkNDLGVBQWVZLEdBQUcsQ0FBQ1QsS0FBS0k7UUFDeEIsT0FBTztJQUNUO0lBRUFBLFdBQVdNLElBQUksQ0FBQ1Q7SUFDaEJKLGVBQWVZLEdBQUcsQ0FBQ1QsS0FBS0k7SUFDeEIsT0FBTztBQUNUO0FBRU8sZUFBZU8sY0FBY1gsR0FBVztJQUM3QyxNQUFNWSxRQUFRbkIsbUVBQWlCQTtJQUMvQixJQUFJLENBQUNtQixPQUFPO1FBQ1YsT0FBT2Isc0JBQXNCQztJQUMvQjtJQUVBLE1BQU0sRUFBRWEsSUFBSSxFQUFFQyxLQUFLLEVBQUUsR0FBRyxNQUFNRixNQUFNRyxHQUFHLENBQUMsb0JBQW9CO1FBQzFEQyxPQUFPaEI7UUFDUGlCLFNBQVNyQjtRQUNUc0Isa0JBQWtCdkI7SUFDcEI7SUFFQSxJQUFJbUIsT0FBTztRQUNULE9BQU9mLHNCQUFzQkM7SUFDL0I7SUFFQSxPQUFPbUIsUUFBUU47QUFDakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0cmFpLS0tdmlydHVhbC10YWJsZXRvcC8uL2xpYi9haS9yYXRlTGltaXQudHM/YmI2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVBZG1pbkNsaWVudCB9IGZyb20gJy4uL3N1cGFiYXNlL3NlcnZlcic7XG5cbmNvbnN0IFJBVEVfTElNSVRfV0lORE9XX01TID0gNjBfMDAwO1xuY29uc3QgUkFURV9MSU1JVF9XSU5ET1dfU0VDID0gNjA7XG5jb25zdCBSQVRFX0xJTUlUX01BWCA9IDIwO1xuY29uc3QgcmF0ZUxpbWl0U3RvcmUgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyW10+KCk7XG5cbmZ1bmN0aW9uIGlzUmF0ZUxpbWl0ZWRJbk1lbW9yeShrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICBjb25zdCB3aW5kb3dTdGFydCA9IG5vdyAtIFJBVEVfTElNSVRfV0lORE9XX01TO1xuICBjb25zdCB0aW1lc3RhbXBzID0gcmF0ZUxpbWl0U3RvcmUuZ2V0KGtleSk/LmZpbHRlcigodCkgPT4gdCA+PSB3aW5kb3dTdGFydCkgfHwgW107XG5cbiAgaWYgKHRpbWVzdGFtcHMubGVuZ3RoID49IFJBVEVfTElNSVRfTUFYKSB7XG4gICAgcmF0ZUxpbWl0U3RvcmUuc2V0KGtleSwgdGltZXN0YW1wcyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB0aW1lc3RhbXBzLnB1c2gobm93KTtcbiAgcmF0ZUxpbWl0U3RvcmUuc2V0KGtleSwgdGltZXN0YW1wcyk7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzUmF0ZUxpbWl0ZWQoa2V5OiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgY29uc3QgYWRtaW4gPSBjcmVhdGVBZG1pbkNsaWVudCgpO1xuICBpZiAoIWFkbWluKSB7XG4gICAgcmV0dXJuIGlzUmF0ZUxpbWl0ZWRJbk1lbW9yeShrZXkpO1xuICB9XG5cbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgYWRtaW4ucnBjKCdjaGVja19yYXRlX2xpbWl0Jywge1xuICAgIHBfa2V5OiBrZXksXG4gICAgcF9saW1pdDogUkFURV9MSU1JVF9NQVgsXG4gICAgcF93aW5kb3dfc2Vjb25kczogUkFURV9MSU1JVF9XSU5ET1dfU0VDLFxuICB9KTtcblxuICBpZiAoZXJyb3IpIHtcbiAgICByZXR1cm4gaXNSYXRlTGltaXRlZEluTWVtb3J5KGtleSk7XG4gIH1cblxuICByZXR1cm4gQm9vbGVhbihkYXRhKTtcbn0iXSwibmFtZXMiOlsiY3JlYXRlQWRtaW5DbGllbnQiLCJSQVRFX0xJTUlUX1dJTkRPV19NUyIsIlJBVEVfTElNSVRfV0lORE9XX1NFQyIsIlJBVEVfTElNSVRfTUFYIiwicmF0ZUxpbWl0U3RvcmUiLCJNYXAiLCJpc1JhdGVMaW1pdGVkSW5NZW1vcnkiLCJrZXkiLCJub3ciLCJEYXRlIiwid2luZG93U3RhcnQiLCJ0aW1lc3RhbXBzIiwiZ2V0IiwiZmlsdGVyIiwidCIsImxlbmd0aCIsInNldCIsInB1c2giLCJpc1JhdGVMaW1pdGVkIiwiYWRtaW4iLCJkYXRhIiwiZXJyb3IiLCJycGMiLCJwX2tleSIsInBfbGltaXQiLCJwX3dpbmRvd19zZWNvbmRzIiwiQm9vbGVhbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/ai/rateLimit.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase/server.ts":
/*!********************************!*\
  !*** ./lib/supabase/server.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createAdminClient: () => (/* binding */ createAdminClient),\n/* harmony export */   createServerClient: () => (/* binding */ createServerClient)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst SUPABASE_URL = \"https://uhfqpdcylnhqmbhqzfqp.supabase.co\";\nconst SUPABASE_ANON_KEY = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVoZnFwZGN5bG5ocW1iaHF6ZnFwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAwNTg0OTcsImV4cCI6MjA4NTYzNDQ5N30.bsnJbhS4hS8JNxU4JIyIX4AWpm-rrmmK2KAWaPgGzm0\";\nconst SUPABASE_SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY;\nif (!SUPABASE_URL || !SUPABASE_ANON_KEY) {\n    throw new Error(\"Missing Supabase env vars\");\n}\nfunction createServerClient(accessToken) {\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(SUPABASE_URL, SUPABASE_ANON_KEY, {\n        global: {\n            headers: accessToken ? {\n                Authorization: `Bearer ${accessToken}`\n            } : {}\n        }\n    });\n}\nfunction createAdminClient() {\n    if (!SUPABASE_SERVICE_ROLE_KEY) return null;\n    return (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY, {\n        auth: {\n            persistSession: false\n        }\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3VwYWJhc2Uvc2VydmVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxRDtBQUVyRCxNQUFNQyxlQUFlQywwQ0FBb0M7QUFDekQsTUFBTUcsb0JBQW9CSCxrTkFBeUM7QUFDbkUsTUFBTUssNEJBQTRCTCxRQUFRQyxHQUFHLENBQUNJLHlCQUF5QjtBQUV2RSxJQUFJLENBQUNOLGdCQUFnQixDQUFDSSxtQkFBbUI7SUFDdkMsTUFBTSxJQUFJRyxNQUFNO0FBQ2xCO0FBRU8sU0FBU0MsbUJBQW1CQyxXQUFvQjtJQUNyRCxPQUFPVixtRUFBWUEsQ0FBQ0MsY0FBY0ksbUJBQW1CO1FBQ25ETSxRQUFRO1lBQ05DLFNBQVNGLGNBQWM7Z0JBQUVHLGVBQWUsQ0FBQyxPQUFPLEVBQUVILFlBQVksQ0FBQztZQUFDLElBQUksQ0FBQztRQUN2RTtJQUNGO0FBQ0Y7QUFFTyxTQUFTSTtJQUNkLElBQUksQ0FBQ1AsMkJBQTJCLE9BQU87SUFDdkMsT0FBT1AsbUVBQVlBLENBQUNDLGNBQWNNLDJCQUEyQjtRQUMzRFEsTUFBTTtZQUFFQyxnQkFBZ0I7UUFBTTtJQUNoQztBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdHJhaS0tLXZpcnR1YWwtdGFibGV0b3AvLi9saWIvc3VwYWJhc2Uvc2VydmVyLnRzPzY2MjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcblxuY29uc3QgU1VQQUJBU0VfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIGFzIHN0cmluZztcbmNvbnN0IFNVUEFCQVNFX0FOT05fS0VZID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkgYXMgc3RyaW5nO1xuY29uc3QgU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG5pZiAoIVNVUEFCQVNFX1VSTCB8fCAhU1VQQUJBU0VfQU5PTl9LRVkpIHtcbiAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIFN1cGFiYXNlIGVudiB2YXJzJyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZXJ2ZXJDbGllbnQoYWNjZXNzVG9rZW4/OiBzdHJpbmcpIHtcbiAgcmV0dXJuIGNyZWF0ZUNsaWVudChTVVBBQkFTRV9VUkwsIFNVUEFCQVNFX0FOT05fS0VZLCB7XG4gICAgZ2xvYmFsOiB7XG4gICAgICBoZWFkZXJzOiBhY2Nlc3NUb2tlbiA/IHsgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2FjY2Vzc1Rva2VufWAgfSA6IHt9LFxuICAgIH0sXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQWRtaW5DbGllbnQoKSB7XG4gIGlmICghU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSkgcmV0dXJuIG51bGw7XG4gIHJldHVybiBjcmVhdGVDbGllbnQoU1VQQUJBU0VfVVJMLCBTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZLCB7XG4gICAgYXV0aDogeyBwZXJzaXN0U2Vzc2lvbjogZmFsc2UgfSxcbiAgfSk7XG59Il0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsIlNVUEFCQVNFX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJTVVBBQkFTRV9BTk9OX0tFWSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsIkVycm9yIiwiY3JlYXRlU2VydmVyQ2xpZW50IiwiYWNjZXNzVG9rZW4iLCJnbG9iYWwiLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsImNyZWF0ZUFkbWluQ2xpZW50IiwiYXV0aCIsInBlcnNpc3RTZXNzaW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase/server.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions","vendor-chunks/formdata-node","vendor-chunks/ms","vendor-chunks/groq-sdk","vendor-chunks/event-target-shim","vendor-chunks/agentkeepalive","vendor-chunks/form-data-encoder","vendor-chunks/abort-controller","vendor-chunks/humanize-ms"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fvalidate-key%2Froute&page=%2Fapi%2Fvalidate-key%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvalidate-key%2Froute.ts&appDir=%2Fhome%2Fjr%2FProjetos%2FMestrAi%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fjr%2FProjetos%2FMestrAi&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();